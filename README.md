
# Polygon Token Transactions Crawler

This project contains a Node.js script that interacts with the Polygonscan API to fetch token transactions and related contract addresses. It also processes these addresses to extract all unique wallet addresses involved in transactions.

## Prerequisites

- Node.js installed on your machine
- Polygonscan API key

## Setup

1. Clone this repository.
2. Create a `.env` file in the root directory of your project and add your Polygonscan API key:
   ```
   API_KEY=your_polygonscan_api_key
   ```
3. Install the necessary dependencies:
   ```bash
   npm install axios dotenv
   ```

## Files

- `crawler.js`: The main script file containing the code to fetch token transactions and extract wallet addresses.
- `contract_addresses.txt`: This file will be generated by the script, containing the contract addresses.
- `addresses_<wallet_address>.txt`: These files will be generated by the script, containing unique wallet addresses involved in transactions for each contract address.

## Usage

1. **Fetch Token Contract Addresses:**

   Uncomment the following line in `crawler.js` to fetch token contract addresses:
   ```javascript
   // getTokenContractAddresses()
   ```

   Then, run the script:
   ```bash
   node crawler.js
   ```

2. **Fetch Tokens with Reputation:**

   By default, the script fetches tokens with reputation (assuming manual filtering if needed). Run the script:
   ```bash
   node crawler.js
   ```

3. **Process Wallet Addresses:**

   The `main` function will be triggered to process the wallet addresses stored in `contract_addresses.txt`. This will extract unique addresses involved in transactions and save them to respective files.

   ```bash
   node crawler.js
   ```

## Functions

- `getTokenContractAddresses()`: Fetches token contract addresses and saves them to `contract_addresses.txt`.
- `getTokensWithReputation()`: Fetches tokens with reputation and saves contract addresses to `contract_addresses.txt`.
- `getTransactions(walletAddress)`: Fetches transactions for a given wallet address.
- `extractAddresses(transactions)`: Extracts unique addresses involved in transactions.
- `saveAddressesToFile(addresses, filename)`: Saves unique addresses to a file.
- `processWalletAddresses(walletAddresses)`: Processes wallet addresses to extract and save unique addresses.
- `main()`: The main function to coordinate the execution flow.

## License

This project is licensed under the MIT License.
